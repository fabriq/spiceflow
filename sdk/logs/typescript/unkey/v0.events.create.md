openapi: 3.0.0
info:
  title: Unkey API
  version: 1.0.0
servers:
  - url: https://api.unkey.dev
  - url: http://localhost
paths:
  /v0/events:
    post:
      operationId: v0.events.create
      summary: Create events
      description: Accept NDJSON payload of events and process them
      requestBody:
        content:
          application/x-ndjson:
            schema:
              $ref: '#/components/schemas/V0EventsRequestBody'
        required: true
      responses:
        '200':
          description: Successful response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/V0EventsResponseBody'
        '400':
          description: Bad request
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/ValidationError'
        '500':
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/BaseError'
          description: Error
      tags:
        - events
components:
  schemas:
    BaseError:
      properties:
        requestId:
          description: A unique id for this request. Please always provide this to support.
          example: req_123
          type: string
        detail:
          description: A human-readable explanation specific to this occurrence of the problem.
          example: Property foo is required but is missing.
          type: string
        instance:
          description: A URI reference that identifies the specific occurrence of the problem.
          example: https://example.com/error-log/abc123
          format: uri
          type: string
        status:
          description: HTTP status code
          example: 400
          format: int
          type: integer
        title:
          description: A short, human-readable summary of the problem type. This value should not change between occurrences of the error.
          example: Bad Request
          type: string
        type:
          default: about:blank
          description: A URI reference to human-readable documentation for the error.
          example: https://example.com/errors/example
          format: uri
          type: string
      type: object
      required:
        - requestId
        - detail
        - instance
        - status
        - title
        - type
    ValidationError:
      additionalProperties: false
      properties:
        requestId:
          description: A unique id for this request. Please always provide this to support.
          example: req_123
          type: string
        detail:
          description: A human-readable explanation specific to this occurrence of the problem.
          example: Property foo is required but is missing.
          type: string
        errors:
          description: Optional list of individual error details
          items:
            $ref: '#/components/schemas/ValidationErrorDetail'
          type:
            - array
        instance:
          description: A URI reference that identifies the specific occurrence of the problem.
          example: https://example.com/error-log/abc123
          format: uri
          type: string
        status:
          description: HTTP status code
          example: 400
          format: int
          type: integer
        title:
          description: A short, human-readable summary of the problem type. This value should not change between occurrences of the error.
          example: Bad Request
          type: string
        type:
          default: about:blank
          description: A URI reference to human-readable documentation for the error.
          example: https://example.com/errors/example
          format: uri
          type: string
      type: object
      required:
        - requestId
        - detail
        - instance
        - status
        - title
        - type
        - errors
    ValidationErrorDetail:
      additionalProperties: false
      properties:
        location:
          description: Where the error occurred, e.g. 'body.items[3].tags' or 'path.thing-id'
          type: string
        message:
          description: Error message text
          type: string
        fix:
          description: A human-readable message describing how to fix the error.
          type: string
      type: object
      required:
        - message
        - location
    V0EventsResponseBody:
      type: object
      properties:
        $schema:
          description: A URL to the JSON Schema for this object.
          example: https://api.unkey.dev/schemas/V0EventsResponseBody.json
          format: uri
          readOnly: true
          type: string
        successful_rows:
          type: integer
          description: The number of rows that were successfully processed
        quarantined_rows:
          type: integer
          description: The number of rows that were quarantined
      required:
        - successful_rows
        - quarantined_rows
    V0EventsRequestBody:
      type: string
      description: NDJSON payload of events

---
Let's break down what we need to implement:

1. We need to add a new method to the `ExampleClient` class for the POST /v0/events endpoint
2. The method needs to:
   - Accept NDJSON string as input (V0EventsRequestBody)
   - Set the correct Content-Type header
   - Handle the response which could be either:
     - 200: V0EventsResponseBody
     - 400: ValidationError
     - 500: BaseError
3. We'll use the existing fetch method but need to customize headers for NDJSON
4. We'll add proper error handling using the ExampleError class

Here's the implementation:

```typescript:client.ts
// ... existing code ...

export class ExampleClient {
  // ... existing code ...

  /**
   * POST /v0/events
   * @tags events
   * @summary Create events
   * @description Accept NDJSON payload of events and process them
   */
  async createEvents(
    body: types.V0EventsRequestBody,
    options?: { headers?: Record<string, string> }
  ): Promise<types.V0EventsResponseBody> {
    const headers = {
      'Content-Type': 'application/x-ndjson',
      ...options?.headers,
    }

    const response = await this.fetch({
      method: 'POST',
      path: '/v0/events',
      body,
      headers,
    })

    if (!response.ok) {
      const errorData = await response.json()
      throw new ExampleError(errorData.detail || 'Failed to create events', {
        status: response.status,
        data: errorData,
      })
    }

    return response.json()
  }
}

// ... existing code ...
```

The implementation:
1. Adds a new `createEvents` method to the ExampleClient class
2. Takes the NDJSON string as input and optional headers
3. Sets the correct Content-Type header for NDJSON
4. Uses the existing fetch method but overrides the content type
5. Handles error responses by parsing the error details and throwing ExampleError
6. Returns the parsed response for successful requests
7. Includes JSDoc comments with the route path, method, and tags as requested